# GraphQL Schema and Types

This directory contains the GraphQL schema and TypeScript types for the AppSignal API.

## Contents

- `schema.graphql` - The complete GraphQL schema from AppSignal's API in SDL format (introspected Dec 9, 2025)
- `schema-autogenerated.json` - The complete GraphQL schema from AppSignal's API, automatically generated
- `types.ts` - TypeScript type definitions derived from the GraphQL schema

## Usage

The types in this directory are used throughout the appsignal-client implementation to ensure type safety when interacting with the AppSignal GraphQL API.

### Example

```typescript
import type { App } from './types.js';

// Use the App type for type-safe operations
const apps: App[] = await getApps();
```

## Schema Generation

The schema file is auto-generated from AppSignal's GraphQL endpoint using GraphQL Codegen.

To regenerate the schema and types, follow the process documented in the [CONTRIBUTING.md](../../../CONTRIBUTING.md#generating-types) file:

1. Create a `.env` file with your AppSignal API key
2. Install the GraphQL codegen dependencies
3. Run `npx dotenv -- graphql-codegen`

This will automatically regenerate both `schema-autogenerated.json` and `types.ts`.

## Type Definitions

The types.ts file contains TypeScript interfaces that match the GraphQL schema. These types are used to:

- Ensure type safety in API responses
- Provide autocomplete support in IDEs
- Catch type mismatches at compile time

Key types include:

- `App` - Represents an AppSignal application
- `ExceptionIncident` - Represents an exception incident
- `LogIncident` - Represents a log incident
- Various query/mutation response types

## Best Practices

1. Always use the types from this directory when working with AppSignal API responses
2. Keep the schema up to date with AppSignal's API changes
3. Use `Pick<Type, 'field1' | 'field2'>` when you only need specific fields from a type
4. Prefer type imports (`import type`) to avoid bundling unnecessary code
